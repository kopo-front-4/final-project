<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FourTUNE</title>
    <link rel="stylesheet" href="input.module.css">
    <!-- jQuery 및 jQuery Ripples 라이브러리 추가 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ripples/0.5.3/jquery.ripples.min.js"></script>
    <style>
        /* 이미지를 화면에 꽉 채우는 스타일 */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* 화면 스크롤 가능하도록 설정 */
        }
        /* 이미지 컨테이너의 스타일 */
        #image-container {
            position: relative;
            width: 100%;
            height: 100vh; /* 화면 전체 높이를 차지하도록 설정 */
            background: url('bg2.jpg') center center no-repeat;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* 물결 효과를 나타낼 div의 스타일 */
        .ripples {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none; /* 물결 효과 div에 이벤트가 전달되지 않도록 설정 */
        }
        /* 카드 스타일 */
        .card {
            width: 350px;
            height: 500px;
            background-color: rgba(0, 0, 0, 0.45); /* 반투명한 배경색 */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 15px;
            color: white; /* 글자색 */
            padding: 20px;
            box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.8); /* 그림자 효과 */
            display: none; /* 처음에는 카드를 보이지 않도록 설정 */
        }
        /* 카드 앞뒤 스타일 */
        .card-front, .card-back {
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.45); 
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: absolute;
            backface-visibility: hidden; /* 뒤집히는 부분 감춤 */
        }
        /* 카드 앞면 스타일 */
        .card-front {
            z-index: 2; /* 앞에 보이도록 설정 */
            transform: rotateY(0deg); /* 앞면은 0도로 유지 */
            padding: 30px; /* 내부 패딩 설정 */
            box-sizing: border-box; /* 패딩이 요소의 크기에 영향을 미치도록 설정 */
        }
        /* 카드 뒷면 스타일 */
        .card-back {
            transform: rotateY(180deg); /* 뒷면은 180도로 뒤집힘 */
            padding: 30px; /* 내부 패딩 설정 */
            box-sizing: border-box; /* 패딩이 요소의 크기에 영향을 미치도록 설정 */
        }
        /* Press Enter to Start 문구 스타일 */
        #start-text {
            position: absolute;
            bottom: 110px;
            left: 45%;
            transform: translateX(-50%);
            font-size: 24px;
            color: #ffffff; /* 흰색 글씨 */
            
        }
        .card-buttons {
            display: flex; /* 내부의 버튼들을 가로로 나란히 배치하기 위해 flex 사용 */
            justify-content: space-between; /* 버튼들 사이의 간격을 최대로 벌리기 */
            align-items: center; /* 버튼들을 세로로 가운데 정렬 */
        }
        
        .card-back select {
        width: 80%;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
        margin: 0 auto; /* 가운데 정렬 */
        display: block; /* 블록 레벨 요소로 설정하여 가로폭 조정 가능 */
        }
        .card-front input[type="text"] {
        width: 100%;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
        margin: 0 auto; /* 가운데 정렬 */
        display: block; /* 블록 레벨 요소로 설정하여 가로폭 조정 가능 */
        }
        .birth {
            display: block; /* 가로 배치 대신 세로 배치로 변경 */
            text-align: center; /* 내부 요소를 가운데 정렬 */
        }   
        label[for="birthDate"] {
        font-size: 15px; /* 라벨 텍스트 크기를 증가시켜 크게 보이도록 설정 */
        margin-right: 20px; /* 라벨과 선택 영역 사이의 간격을 늘립니다. */
        }

        #birthDate {
            font-size: 15px; /* 선택 영역의 텍스트 크기를 증가시켜 크게 보이도록 설정 */
            padding-left: 15px;
            padding-right: 15px;
            padding-top: 8px;
            padding-bottom: 8px; 
            border-radius: 5px;
        }
        .card-front input[type="text"]::placeholder {
        color: rgb(255, 106, 0); /* 플레이스홀더는 주황색 */
        text-align: center; 
        width: calc(100% - 30px); /* 입력란의 너비에 맞게 플레이스홀더 너비 조정 */
        padding: 15px; /* 패딩 적용 */
        position: absolute; /* 절대 위치 설정 */
        top: 50%; /* 부모 요소 기준으로 세로 중앙 정렬 */
        left: 50%; /* 부모 요소 기준으로 가로 중앙 정렬 */
        transform: translate(-50%, -50%); /* 수직 및 수평 가운데 정렬 */
        }

    </style>
</head>
<body>
<!-- 이미지가 들어갈 컨테이너 -->
<div id="image-container">
    <!-- 물결 효과를 나타낼 div -->
    <div class="ripples"></div>
    <!-- 로고 이미지 -->
    <img id="logo" src="fourTUNE.png" alt="Logo" />
    <!-- Press Enter to Start 문구 -->
    <div id="start-text">Press Enter to Start</div>
    <!-- 카드 -->
    <div class="card puffIn" id="card">
        <div class="card-inner">
            <div class="card-front">
                <div class="card-heading"><br>FOURTUNE<br>성명 입력란</div>
                <div class="card-content"><pr>이름을 입력해주세요:)</pr></div>
                <div class="card-placeholder">입력란</div>
                <div><input type="text" id="nameInput" placeholder="이름을 입력해주세요"></div>
                <div class="card-buttons">
                    <button id="goBackButton">
                        <a href="#">Back</a></button>
                    <button id="nextButton">Next</button>
                </div>
            </div>
            <div class="card-back">
                <div class="card-heading"><br>FOURTUNE<br>
                    <span id="userName"></span></div>
                <div class="card-content">선택란</div>
                <div>
                    <label for="birthDate">생년월일:</label>
                    <input type="date" id="birthDate">
                </div>
                <div class = "birth">
                    <label for="birthTime">태어난 시간:</label><br>
                    <select id="birthTime">
                        <option value="미응답">선택하기</option>
                        <option value="미입력">태어난 시간 모름</option>
                        <option value="자시">밤 11시 30분 ~ 새벽 1시 30분</option>
                        <option value="축시">새벽 1시 30분 ~ 새벽 3시 30분</option>
                        <option value="인시">새벽 3시 30분 ~ 새벽 5시 30분</option>
                        <option value="묘시">새벽 5시 30분 ~ 오전 7시 30분</option>
                        <option value="진시">오전 7시 30분 ~ 오전 9시 30분</option>
                        <option value="사시">오전 9시 30분 ~ 오전 11시 30분</option>
                        <option value="오시">오전 11시 30분 ~ 오후 1시 30분</option>
                        <option value="미시">오후 1시 30분 ~ 오후 3시 30분</option>
                        <option value="신시">오후 3시 30분 ~ 오후 5시 30분</option>
                        <option value="유시">오후 5시 30분 ~ 저녁 7시 30분</option>
                        <option value="술시">저녁 7시 30분 ~ 밤 9시 30분</option>
                        <option value="해시">밤 9시 30분 ~ 밤 11시 30분</option>
                    </select>
                </div>
                <div>
                    <input type="radio" id="solar" name="calendar" value="양력">
                    <label for="solar">양력</label>
                    <input type="radio" id="lunar" name="calendar" value="음력">
                    <label for="lunar">음력</label>
                </div>
                <div class="card-buttons">
                    <button id="goHomeButton">
                        <a href="#">Return</a></button>
                    <button id="finalCompleteButton">
                        <a href="loading.html">Submit</a>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        // 문서가 준비되면 실행
        $("#image-container").ripples({
            // 리플의 반복 효과 여부
            dropRadius: 50, // 리플 반지름 크기
            perturbance: 0.04, // 물결의 왜곡 정도
        });

        // 엔터 키
        $(document).keypress(function (event) {
        if ($("#logo").is(":visible") && event.which == 13) {
            // 첫 화면(로고가 띄워진 상태)에서 엔터를 누르면 카드 등장(로고 페이드아웃)
            $("#logo, #start-text").fadeOut();
            $(".card").fadeIn();
        } else if ($("#nameInput").is(":focus") && event.which == 13) {
            // 카드 입력 화면에서 이름 입력란에 포커스되어 있고 엔터를 누르면 카드가 뒷장으로 뒤집힘
            $("#nextButton").click();
        }
        });

    });

    document.addEventListener('DOMContentLoaded', function() {
        var nextButton = document.getElementById('nextButton');
        var flipCard = document.getElementById('card');

        nextButton.addEventListener('click', function() {
            flipCard.classList.add('flipped');
            var nameInput = document.getElementById('nameInput').value;
            var userName = document.getElementById('userName');
            userName.textContent = nameInput + '님의 기본 정보를 선택해주세요:)';
        });
        var goBackButton = document.getElementById('goBackButton');
        var flipCard = document.getElementById('card');

        goBackButton.addEventListener('click', function() {
            $("#logo, #start-text").fadeIn();
            $(".card").fadeOut();
        });
        $('#goHomeButton').on('click', function () {
            $('#card').removeClass('flipped');
        });
        var finalCompleteButton = document.getElementById('finalCompleteButton');

        finalCompleteButton.addEventListener('click', function() {
            var name = document.getElementById('nameInput').value;
            var birthDate = document.getElementById('birthDate').value;
            var birthTime = document.getElementById('birthTime').value;
            var calendar = document.querySelector('input[name="calendar"]:checked').value;

            var userInfo = {
                'name': name,
                'birthDate': birthDate,
                'birthTime': birthTime,
                'calendar': calendar
            };

            // 페이지 로딩 후 입력된 정보를 로컬 스토리지에 저장
            localStorage.setItem('userInfo', JSON.stringify(userInfo));
        });
    });
</script>
</body>
</html>
